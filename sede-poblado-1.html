<!DOCTYPE html>
<html lang="es">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="UTF-8">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WS7PGGFN');</script>
  <!-- End Google Tag Manager -->
    <title>Megafitness GYM | Sede Alfonso Bonilla </title>
    <meta name="description" content="Megafitness GYM es un gimnasio de alto rendimiento en Cali con 3 sedes: El Diamante, Bonilla Aragon y Poblado 1, ofreciendo instalaciones modernas y horarios flexibles." />
    <link rel="icon" href="../images/logo-donde-seria.ico">

    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Megafitness GYM",
            "address": {
              "@type": "PostalAddress",
              "streetAddress": "Cra. 29 # 44-50",
              "addressLocality": "Cali",
              "addressRegion": "Valle del Cauca",
              "addressCountry": "CO"
            },
            "geo": {
                "@type": "GeoCoordinates",
                "latitude": "3.419302974700400",
                "longitude": "-76.4974848261749"
            },
            "telephone": "573222914939",
            "openingHoursSpecification": [
            {
              "@type": "OpeningHoursSpecification",
              "dayOfWeek": [
                "Monday",
                "Tuesday",
                "Wednesday"
              ],
              "opens": "05:00",
              "closes": "22:00"
            },
            {
              "@type": "OpeningHoursSpecification",
              "dayOfWeek": "Thursday",
              "opens": "22:00",
              "closes": "00:00"
            },
            {
              "@type": "OpeningHoursSpecification",
              "dayOfWeek": "Friday",
              "opens": "00:00",
              "closes": "22:00"
            },
            {
              "@type": "OpeningHoursSpecification",
              "dayOfWeek": "Saturday",
              "opens": "08:00",
              "closes": "16:00"
            },
            {
              "@type": "OpeningHoursSpecification",
              "dayOfWeek": "Sunday",
              "opens": "08:00",
              "closes": "14:00"
            }
          ]
                }
                </script>
                <!-- Meta Pixel Code -->
<script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '494994223683472');
    fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=494994223683472&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9YBBGYCZBW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9YBBGYCZBW');
</script>
<!-- Meta Pixel Code, Google Tag y dem√°s scripts se mantienen igual -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css"></script>
<!-- Owl Carousel CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css"
  integrity="sha512-tS3S5qG0BlhnQROyJXvNjeEM4UpMXHrQfTGmbQ1gKmelCxlSEBUaxhRBj/EFTzpbP4RVSrpEikbmdJobCvhE3g=="
  crossorigin="anonymous" />
<!-- Google Fonts, OWL Carousel y dem√°s CSS -->
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;600;700;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="../grid.css">
<link rel="stylesheet" href="../360.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/core/index.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/virtual-tour-plugin/index.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/markers-plugin/index.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/gallery-plugin/index.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/plan-plugin/index.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/visible-range-plugin/index.css" />
<link rel="stylesheet" href="../styles.css">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@2.1.4/css/boxicons.min.css">


</head>

<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WS7PGGFN"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

<!-- NAV -->
<div class="nav-wrapper">
  <div class="container">
    <div class="nav">
      <a href="https://www.dondeseria.com/" class="logo">
        <i class='bx bx-webcam bx-tada main-color'></i>D√ìNDE<span class="main-color"> SER√çA</span>
      </a>
      <ul class="nav-menu" id="nav-menu">
        <li><a href="https://www.dondeseria.com/index.html">Inicio</a></li>
        <li><a href="https://www.dondeseria.com/mapa/index.html">Mapa</a></li>

        <li><a href="https://www.dondeseria.com/index.html">Restaurantes</a></li>
        <li><a href="https://www.dondeseria.com/index.html">Gyms</a></li>
        <li><a href="https://www.dondeseria.com/blogs/index.html">Blogs</a></li>
        <li><a href="https://www.dondeseria.com/index.html">Contacto</a></li>
      </ul>
      <!-- MOBILE MENU TOGGLE -->
      <div class="hamburger-menu" id="hamburger-menu">
        <div class="hamburger"></div>
      </div>
    </div>
  </div>
</div>
<!-- END NAV -->

<div class="global-container2">
  <div class="header-container2">
    <div class="header-content2">
      <h1>Megafitness GYM | Poblado 1</h1>
    </div>
    <div class="buttons-container2">
      <button class="btn1" onclick="openInNewTab('https://www.google.com/maps/dir//Cra.+29+%23+44-50,+Antonio+nari%C3%B1o,+Cali,+Valle+del+Cauca/@3.4186729,-76.4987795,16.74z/data=!4m9!4m8!1m0!1m5!1m1!1s0x8e30a7215034c4f1:0xaddf52e6e77bc978!2m2!1d-76.497439!2d3.419036!3e0?entry=ttu&g_ep=EgoyMDI1MDMxMi4wIKXMDSoASAFQAw%3D%3D')"><i class='bx bx-map bx-tada' ></i> Como Llegar <i class='bx bx-map bx-tada' ></i></button>
      <button class="btn2" onclick="openInNewTab('https://www.instagram.com/megafitnessgym.cali/')"><i class='bx bxl-instagram bx-tada' ></i> Instagram <i class='bx bxl-instagram bx-tada' ></i></button>
  </div>
  </div>
  <div class="restaurantemadre">
    <div id="viewer360">
      <div class="niveles">
        <p style="text-align: center; padding-left: 2px; padding-right: 2px; margin: 0; color: white;">PISO EN EL<br>QUE ESTAS</p>
        <button id="btn-piso-1" class="nivel-boton activo title="Primer Piso" onclick="changeFloor(1)">Entrada / 2¬∞ Piso</button>
      </div>
      <div class="whatsapp-btn" style="display: flex; justify-content: center; align-items: center;">
          <button id="whatsapp-button">
              Inscribete <i class="bx bxl-whatsapp bx-tada" style="font-size: 20px;"></i>
            </button>
      </div>
    </div>
    <!-- SIDE PANEL: Se muestra el logo y debajo el carrusel de rese√±as -->
    <div class="side-panel2">
      <div class="logo-container2">
        <img src="./megafitness-gym-logo.png" alt="Logo del Gimnasio Megafitness GYM" class="logo" style="max-width: 35% !important;">
      </div>
      <div class="resenas">
          <h3 style="color: black;">Ultimas Rese√±as en Google Maps</h3>
      </div>
      <!-- Contenedor del carrusel de rese√±as -->
      <div id="reviews-carousel" class="owl-carousel">
        <!-- Se cargar√°n las rese√±as din√°micamente -->
      </div>
    </div>
  </div>
</div>

<!-- FOOTER SECTION -->
<footer class="section">
  <div class="container">
    <div class="row">
      <div class="col-4 col-md-6 col-sm-12">
        <div class="content">
          <a href="#" class="logo">
            <i class='bx bx-webcam bx-tada main-color'></i>D√ìNDE<span class="main-color"> SER√çA</span>
          </a>
          <p>
            Nos especializamos en capturar experiencias √∫nicas con recorridos 360¬∞ en restaurantes, gimnasios, bares y m√°s. Nuestro objetivo es promocionar locales y negocios para que lleguen a m√°s personas, mostrando su esencia de una manera inmersiva y atractiva. ¬°Explora, conoce y vive lo mejor de cada lugar con nosotros! üåç‚ú®
          </p>
          <div class="social-list">
            <a href="https://www.instagram.com/cusig.co/" class="social-item">
              <i class="bx bxl-instagram"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>
<!-- END FOOTER SECTION -->

<!-- COPYRIGHT SECTION -->
<div class="copyright">
  Copyright 2025 <a href="https://www.youtube.com/channel/UCnNgtK4tGlWcceXVzoyTg8Q" target="_blank">
    CUSIG S A S</a>
</div>
<!-- END COPYRIGHT SECTION -->

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<!-- OWL CAROUSEL JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js" integrity="sha512-bPs7Ae6pVvhOSiIcyUClR7/q2OAsRiovw4vAkX+zJbw3ShAeeqezq50RIIcIURq7Oa20rW2n2q+fyXBNcU9lrw==" crossorigin="anonymous"></script>
<!-- APP SCRIPT -->
<script src="../app.js"></script>
<script>
  function openInNewTab(url) {
    window.open(url, '_blank').focus();
  }
</script>
<script>
  const whatsappButton = document.getElementById('whatsapp-button');
  whatsappButton.addEventListener('click', function(e) {
    e.preventDefault();
    window.location.href = 'https://wa.link/3xo6ng';
  });
</script>
<!-- C√≥digo para inicializar el visor 360 (c√≥digo existente) -->
<script type="importmap">
  {
    "imports": {
      "three": "https://cdn.jsdelivr.net/npm/three/build/three.module.js",
      "@photo-sphere-viewer/core": "https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/core/index.module.js",
      "@photo-sphere-viewer/virtual-tour-plugin": "https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/virtual-tour-plugin/index.module.js",
      "@photo-sphere-viewer/markers-plugin": "https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/markers-plugin/index.module.js",
      "@photo-sphere-viewer/gallery-plugin": "https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/gallery-plugin/index.module.js",
      "@photo-sphere-viewer/plan-plugin": "https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/plan-plugin/index.module.js",
      "@photo-sphere-viewer/visible-range-plugin": "https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/visible-range-plugin/index.module.js",
      "@photo-sphere-viewer/autorotate-plugin": "https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/autorotate-plugin/index.module.js",
      "leaflet": "https://unpkg.com/leaflet@1.9.4/dist/leaflet-src.esm.js"
    }
  }
</script>
<script type="module">
  import { Viewer } from '@photo-sphere-viewer/core';
  import { VirtualTourPlugin } from '@photo-sphere-viewer/virtual-tour-plugin';
  import { GalleryPlugin } from '@photo-sphere-viewer/gallery-plugin';
  import { MarkersPlugin } from '@photo-sphere-viewer/markers-plugin';
  import { VisibleRangePlugin } from '@photo-sphere-viewer/visible-range-plugin';
  import * as PlanPlugin from '@photo-sphere-viewer/plan-plugin';
  import { AutorotatePlugin } from '@photo-sphere-viewer/autorotate-plugin';

  const baseUrl = '../foto_poblado/';
  const pisos = {
    1: [
    {
  id: 'nodo1',
  panorama: `${baseUrl}entrada.jpg`,
  thumbnail: `${baseUrl}entrada.jpg`,
  name: 'Entrada',
  caption: 'Entrada MegaFitness Gym',
  links: [
  { nodeId: 'nodo2', position: {yaw: 1.9496080052198206, pitch: -0.12697886737742747} }
],
  sphereCorrection: { pan: '230deg' },
},
{
  id: 'nodo2',
  panorama: `${baseUrl}2.jpg`,
  thumbnail: `${baseUrl}2.jpg`,
  name: 'Entrada',
  caption: 'Entrada MegaFitness Gym',
  links: [
  { nodeId: 'nodo1', position: {yaw: 6.279464361766658, pitch: -0.34703342496519785} },
  { nodeId: 'nodo3', position: {yaw: 1.632899295833448, pitch: -0.2770303847374387} }
],
  sphereCorrection: { pan: '180deg' },
},
{
  id: 'nodo3',
  panorama: `${baseUrl}3.jpg`,
  thumbnail: `${baseUrl}3.jpg`,
  name: 'Segundo Piso',
  caption: 'Segundo Piso MegaFitness Gym',
  links: [
  { nodeId: 'nodo2', position: {yaw: 4.796937649852251, pitch: -0.2890910914000022} },
  { nodeId: 'nodo4', position: {yaw: 3.351714971684429, pitch: -0.21146175568527603} },
  { nodeId: 'nodo10', position: {yaw: 1.7073356175661614, pitch: -0.2055540052699727} },

],
  sphereCorrection: { pan: '170deg' },
},
{
  id: 'nodo4',
  panorama: `${baseUrl}4.jpg`,
  thumbnail: `${baseUrl}4.jpg`,
  name: 'Segundo Piso',
  caption: 'Segundo Piso MegaFitness Gym',
  links: [{ nodeId: 'nodo3', position: {yaw: 1.5215034920041095, pitch: -0.12767501200976383} },
  { nodeId: 'nodo5', position: {yaw: 0.004917903131121792, pitch: -0.19396497821777503} },
  { nodeId: 'nodo6', position: {yaw: 4.6375936322089855, pitch: -0.20905104360434112} },
  { nodeId: 'nodo9', position: {yaw: 3.0051118475223846, pitch: -0.17707103745306885} },
],
  sphereCorrection: { pan: '90deg' },
},
{
  id: 'nodo5',
  panorama: `${baseUrl}5.jpg`,
  thumbnail: `${baseUrl}5.jpg`,
  name: 'Segundo Piso',
  caption: 'Segundo Piso MegaFitness Gym',
  links: [
  { nodeId: 'nodo4', position: {yaw: 1.3750665734858492, pitch: -0.27608389974651626} }
],
  sphereCorrection: { pan: '180deg' },
},
{
  id: 'nodo6',
  panorama: `${baseUrl}6.jpg`,
  thumbnail: `${baseUrl}6.jpg`,
  name: 'Segundo Piso',
  caption: 'Segundo Piso MegaFitness Gym',
  links: [
  { nodeId: 'nodo4', position: {yaw: 3.0696879005317297, pitch: -0.175279031290124} },
  { nodeId: 'nodo7', position: {yaw: 1.4207017687736807, pitch: -0.21706800368363766} },
  { nodeId: 'nodo8', position: {yaw: 4.321030883527761, pitch: -0.18449922861781953} }


],
  sphereCorrection: { pan: '0deg' },
}
,
{
  id: 'nodo7',
  panorama: `${baseUrl}7.jpg`,
  thumbnail: `${baseUrl}7.jpg`,
  name: 'Segundo Piso',
  caption: 'Segundo Piso MegaFitness Gym',
  links: [

    { nodeId: 'nodo6', position: {yaw: 0.10427145815235224, pitch: -0.20897415418537957} },
    { nodeId: 'nodo8', position: {yaw: 1.4302598804490587, pitch: -0.2213040251061047} }
  ],
  sphereCorrection: { pan: '180deg' },
},
{
  id: 'nodo8',
  panorama: `${baseUrl}8.jpg`,
  thumbnail: `${baseUrl}8.jpg`,
  name: 'Segundo Piso',
  caption: 'Segundo Piso MegaFitness Gym',
  links: [
    { nodeId: 'nodo6', position: {yaw: 4.4944148973117395, pitch: -0.32644160139326495} },
  ],
  sphereCorrection: { pan: '180deg' },
},
{
  id: 'nodo9',
  panorama: `${baseUrl}9.jpg`,
  thumbnail: `${baseUrl}9.jpg`,
  name: 'Segundo Piso',
  caption: 'Segundo Piso MegaFitness Gym',
  links: [
    { nodeId: 'nodo8', position: {yaw: 4.555704148436488, pitch: -0.24535305006841224}  },
    { nodeId: 'nodo10', position: {yaw: 6.18086911680502, pitch: -0.2867538538804433} },
    { nodeId: 'nodo17', position: {yaw: 1.6828855393469382, pitch: -0.6127795487642462}  },

  ],
  sphereCorrection: { pan: '0deg' },
},
{
  id: 'nodo10',
  panorama: `${baseUrl}10.jpg`,
  thumbnail: `${baseUrl}10.jpg`,
  name: 'Segundo Piso',
  caption: 'Segundo Piso MegaFitness Gym',
  links: [
    { nodeId: 'nodo9', position: {yaw: 3.2808406519372753, pitch: -0.16053549058285066}  },
    { nodeId: 'nodo11', position: {yaw: 1.5471967650113028, pitch: -0.22534665082978655} },

  ],
  sphereCorrection: { pan: '0deg' },
}
,
      {
        id: 'nodo11',
        panorama: `${baseUrl}11.jpg`,
        thumbnail: `${baseUrl}11.jpg`,
        name: 'Segundo Piso',
        caption: 'Segundo Piso MegaFitness Gym',
        links: [
        { nodeId: 'nodo10', position: {yaw: 4.608549877586897, pitch: -0.1796450934464957}
      },
      { nodeId: 'nodo12', position: {yaw: 6.226596583626547, pitch: -0.21326632144482938}
    },
    { nodeId: 'nodo17', position: {yaw: 3.093271207284154, pitch: -0.10905528612602255}  },
          ],
        sphereCorrection: { pan: '0deg' },
        
      },
      {
  id: 'nodo12',
  panorama: `${baseUrl}12.jpg`,
  thumbnail: `${baseUrl}12.jpg`,
  name: 'Segundo Piso',
  caption: 'Segundo Piso MegaFitness Gym',
  links: [
    { nodeId: 'nodo11', position: {yaw: 3.2808406519372753, pitch: -0.16053549058285066}  },
    { nodeId: 'nodo13', position: {yaw: 1.5471967650113028, pitch: -0.22534665082978655} },

  ],
  sphereCorrection: { pan: '0deg' },
},
{
  id: 'nodo13',
  panorama: `${baseUrl}13.jpg`,
  thumbnail: `${baseUrl}13.jpg`,
  name: 'Segundo Piso',
  caption: 'Segundo Piso MegaFitness Gym',
  links: [
    { nodeId: 'nodo14', position: {yaw: 2.678584778120166, pitch: -0.3709632682140529}  },
    { nodeId: 'nodo12', position: {yaw: 4.629259883551834, pitch: -0.09685970280978662}
  },

  ],
  sphereCorrection: { pan: '180deg' },
},
{
  id: 'nodo14',
  panorama: `${baseUrl}14.jpg`,
  thumbnail: `${baseUrl}14.jpg`,
  name: 'Segundo Piso',
  caption: 'Segundo Piso MegaFitness Gym',
  links: [
  { nodeId: 'nodo13', position: {yaw: 0.8865720166533712, pitch: -0.36689650053740497}  },
  { nodeId: 'nodo15', position: {yaw: 5.3888293888050045, pitch: -0.45318118781217454}  },
  ],
  sphereCorrection: { pan: '300deg' },
},
{
  id: 'nodo15',
  panorama: `${baseUrl}15.jpg`,
  thumbnail: `${baseUrl}15.jpg`,
  name: 'Segundo Piso',
  caption: 'Segundo Piso MegaFitness Gym',
  links: [
  { nodeId: 'nodo14', position: {yaw: 4.675302622753842, pitch: -0.505123479180086}  },
  { nodeId: 'nodo19', position: {yaw: 0.04615524881823221, pitch: -0.27416490332940047}  },

  ],
  sphereCorrection: { pan: '180deg' },
},
{
  id: 'nodo16',
  panorama: `${baseUrl}16.jpg`,
  thumbnail: `${baseUrl}16.jpg`,
  name: 'Segundo Piso',
  caption: 'Segundo Piso MegaFitness Gym',
  links: [
    { nodeId: 'nodo15', position: {yaw: 3.2808406519372753, pitch: -0.16053549058285066}  },
    { nodeId: 'nodo17', position: {yaw: 1.5471967650113028, pitch: -0.22534665082978655} },

  ],
  sphereCorrection: { pan: '180deg' },
},
{
  id: 'nodo17',
  panorama: `${baseUrl}17.jpg`,
  thumbnail: `${baseUrl}17.jpg`,
  name: 'Segundo Piso',
  caption: 'Segundo Piso MegaFitness Gym',
  links: [
  { nodeId: 'nodo9', position: {yaw: 4.06205588904397, pitch: -0.316941303728286}
},
    { nodeId: 'nodo11', position: {yaw: 5.212434898317076, pitch: -0.17342023305614296}  },
    { nodeId: 'nodo18', position: {yaw: 0.34289730674555047, pitch: -0.18610778542732964}
  },

  ],
  sphereCorrection: { pan: '180deg' },
},
{
  id: 'nodo18',
  panorama: `${baseUrl}18.jpg`,
  thumbnail: `${baseUrl}18.jpg`,
  name: 'Segundo Piso',
  caption: 'Segundo Piso MegaFitness Gym',
  links: [
    { nodeId: 'nodo17', position: {yaw: 4.690930465533105, pitch: -0.22110194163417995}  },
    { nodeId: 'nodo19', position: {yaw: 1.5471967650113028, pitch: -0.22534665082978655} },

  ],
  sphereCorrection: { pan: '0deg' },
},
{
  id: 'nodo19',
  panorama: `${baseUrl}19.jpg`,
  thumbnail: `${baseUrl}19.jpg`,
  name: 'Segundo Piso',
  caption: 'Segundo Piso MegaFitness Gym',
  links: [
    { nodeId: 'nodo15', position: {yaw: 6.055173376790068, pitch: -0.19173263821121234}
  },
    { nodeId: 'nodo18', position: {yaw: 4.850959368061024, pitch: -0.17506391977644364}
  },

  ],
  sphereCorrection: { pan: '180deg' },
}
    ],
  };

  let currentFloor = 1;
  const viewer = new Viewer({
    container: document.querySelector('#viewer360'),
    loadingImg: '../cusig2.gif',
    touchmoveTwoFingers: false,
    mousewheelCtrlKey: true,
    defaultYaw: '130deg',
    navbar: 'zoom move gallery caption fullscreen',
    mousemoveSensitivity: 2,
    touchmoveSensitivity: 2,
    defaultZoomLvl: 0,
    plugins: [
      MarkersPlugin,
      [
        GalleryPlugin,
        {
          thumbnailSize: { width: 100, height: 100 },
        }
      ],
      [
        VirtualTourPlugin,
        {
          positionMode: 'manual',
          renderMode: '3d',
          nodes: pisos[currentFloor],
          startNodeId: 'nodo1',
        }
      ],
      [
        PlanPlugin.PlanPlugin,
        {
          defaultZoom: 17,
          bearing: '270deg',
          coordinates: [-76.4974848261749, 3.419302974700400],
          layers: [{
            name: 'OpenStreetMap',
            urlTemplate: 'https://tile.openstreetmap.org/{z}/{x}/{y}.png',
            attribution: '&copy; OpenStreetMap',
          }],
          visibleOnLoad: false,
        }
      ],
      [
        VisibleRangePlugin,
        {}
      ]
    ]
  }); 

  window.changeFloor = function(floor) {
    if (floor === currentFloor) return;
    currentFloor = floor;
    const vtPlugin = viewer.getPlugin(VirtualTourPlugin);
    vtPlugin.setNodes(pisos[floor]);
    vtPlugin.setCurrentNode(pisos[floor][0].id);
    document.querySelectorAll('.nivel-boton').forEach((btn, index) => {
      if (index + 1 === floor) {
        btn.classList.add('activo');
      } else {
        btn.classList.remove('activo');
      }
    });
  };

  viewer.addEventListener('ready', () => {
  console.log('The viewer is ready');
  
  // Obt√©n las instancias de los plugins VirtualTour y VisibleRange
  const vtPlugin = viewer.getPlugin(VirtualTourPlugin);
  const rangePlugin = viewer.getPlugin(VisibleRangePlugin);
  

  // (Tus otros eventos, por ejemplo, para obtener la posici√≥n o clicks)
  setInterval(() => {
    const position = viewer.getPosition();
    console.log('Current Position:', { yaw: position.yaw, pitch: position.pitch });
  }, 2000);
  
  viewer.addEventListener('click', (e) => {
    console.log('Click Coordinates:', { yaw: e.yaw, pitch: e.pitch });
  });
});

</script>

<!-- DIV oculto para la API de Google Maps (contexto para Places) -->
<div id="map" style="display: none;"></div>

<!-- C√ìDIGO PARA OBTENER Y MOSTRAR LAS RESE√ëAS EN EL CARRUSEL -->
<script>
  async function initReviews() {
    const { Map } = await google.maps.importLibrary("maps");
    const { Place } = await google.maps.importLibrary("places");

    // Crear un mapa oculto para el contexto de la API
    const map = new Map(document.getElementById("map"), {
      center: { lat: 0, lng: 0 },
      zoom: 15,
    });

    // Instanciar Place con el ID del lugar
    const place = new Place({
      id: "ChIJ900_-hWnMI4RaCjsR5PIDjE",
      requestedLanguage: "es"
    });

    await place.fetchFields({
      fields: ["displayName", "reviews"]
    });

    console.log("Nombre del lugar:", place.displayName);
    console.log("Rese√±as:", place.reviews);

    const carousel = document.getElementById("reviews-carousel");
    if (place.reviews && place.reviews.length > 0) {
      place.reviews.forEach(review => {
        const authorName = review.authorAttribution && review.authorAttribution.displayName ? review.authorAttribution.displayName : "Sin autor";
        const authorPhoto = review.authorAttribution && review.authorAttribution.photoURI ? review.authorAttribution.photoURI : "";

        const item = document.createElement("div");
item.classList.add("item");
item.innerHTML = `
<div class="review" 
     style="width: 100%; 
            display: flex; 
            flex-direction: column; 
            color: black; 
            border-bottom: 1px solid #ccc; 
            margin-bottom: 1em;">

  <!-- FILA PRINCIPAL (FOTO 30% / INFO 70%) -->
  <div class="review-row" 
       style="display: flex; 
              width: 100%; 
              height: 100px; 
              box-sizing: border-box;">
    
    <!-- COLUMNA IZQUIERDA (FOTO 30%) -->
    <div class="review-photo" 
         style="width: 30%; 
                display: flex; 
                align-items: center; 
                justify-content: center;">
      ${
        authorPhoto
          ? `<img src="${authorPhoto}" 
                   alt="${authorName}" 
                   style="width: 60px; 
                          height: 60px; 
                          border-radius: 50%;" />`
          : ''
      }
    </div>

    <!-- COLUMNA DERECHA (SUBDIVIDIDA EN 2 FILAS) -->
    <div class="review-right" 
         style="width: 70%; 
                display: flex; 
                flex-direction: column;">

      <!-- FILA SUPERIOR (60% ALTURA: NOMBRE) -->
      <div class="review-right-top" 
           style="flex: 0.6; 
                  display: flex; 
                  align-items: center; 
                  padding-left: 10px;">
        <strong style="font-size: 1.1em; color: black;">
          ${authorName}
        </strong>
      </div>

      <!-- FILA INFERIOR (40% ALTURA: CALIFICACI√ìN) -->
      <div class="review-right-bottom" 
   style="flex: 0.4; display: flex; align-items: center; padding-left: 10px;">
<span style="color: black;">
  ${review.rating ? '‚≠ê'.repeat(Math.round(review.rating)) : 'N/A'}
</span>
</div>


    </div>
  </div>

<!-- COMENTARIO (OCUPA ANCHO COMPLETO) -->
  <div class="review-comment">
    <p style="margin: 0; color: black; overflow-wrap: break-word; word-break: break-word;">
      ${review.text || ''}
    </p>
  </div>
</div>
`;

        carousel.appendChild(item);
      });
    } else {
      carousel.textContent = "No se encontraron rese√±as para este lugar.";
    }

    // Inicializar Owl Carousel para mostrar una rese√±a por slide
    $("#reviews-carousel").owlCarousel({
      loop: true,
      margin: 10,
      nav: true,
      items: 1,
      autoplay: true,
      autoplayTimeout: 5000,
      autoplayHoverPause: true,
    });
  }
</script>
<!-- Cargar la API de Google Maps para las rese√±as con callback initReviews -->
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDMIGStZG_dcrnibQqg7t9KM-v-Yyt8fFM&v=weekly&callback=initReviews"></script>

</body>

</html>
